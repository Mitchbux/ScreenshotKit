<!DOCTYPE html>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>ScreenshotKit</title>
<link href="https://fonts.googleapis.com/css?family=Signika:400,700" rel="stylesheet">
<style>
  html {
    display: flex;
    height: 100%;
  }
  body {
    margin: auto;
    width: 100%;
    padding: 0 .5em;
    background-color:#202020
  }
  body, * {
    font-family: Signika, sans-serif;
    font-weight: 400;
    color: #e0e0e0;
    text-align: center;
  }
  body, button, input {
    font-size: 30px;
  }
  h1 {
    font-weight: 700;
    font-size: 60px;
    text-shadow: 0 1px 20px #aaaaaa;
    margin: 0 0 .25em;
  }
  * {
    box-sizing: border-box;
  }
  input[type=url]{
    display: inline-block;
    width: 90%;
    max-width: 600px;
    padding: .45em;
    margin: .5em;
    border: 0;
    border-radius: 0;
    background-color: #D7FCFD;
  }
  input[type=url]:focus{
    outline: 3px solid #303030;
  }
  button {
    border-radius: 0;
    border: 0;
    padding: .45em 1em;
    margin: .5em;
    width: 90%;
    max-width: 15ex;
    color: rgba(255,255,255,.75);
    background-color: #303030;
    box-shadow: 0 1px 10px #aaaaaa;
  }
  button:hover {
    color: rgba(255,255,255,1);
    box-shadow: 0 1px 30px #aaaaaa;
    text-shadow: 0 0 5px #aaaaaa;
  }
  button:active {
    color: rgba(255,255,255,.55);
    transform: scale(.95);
  }
  footer {
    font-size: 16px;
  }
</style>
<link rel="shortcut icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAFcElEQVRYR62Xa0wUVxTH/7O7zM7suuy6IHajQqIhTRMbaj+0iA9ERFRweVSUVEtKJTExsU3TxKox1TRpmiamTe3ji7U2WpQKCqIoi0/AV9Im1qT9YEm1tjVEFqGEsrsz+5jmjMy4uzODK+Umk83dmXv+v3vuOWfOMEh9MMtqauwOk72BkZhVEqT5ADJoOQNmEMCvEiN1CsPRA11dRwIApFRMMxM8xKxZV+dlJLQJopiKLc0zVpaFxKDybMvhdiMgXYDi4qoMk50bjMVikxJOXmQymWASIhk+X/NQ8r1kAGZN9abNgigemBJlMhKLQgoNg7FlgmMtDR0nj34b741kgLTlZTWT87cOcfacWRj1/42+vt/ku5lznseljmYWQFh5PB7AvLpqY0QQpkZ/tlvEgbfuon/uaTQ0NGBgYACDg4PIe7UI51obLQCijwP48aBfrmj1OorehNF4cP8zn4ZZ+AOue1sQG32884d5d1BdXQ2wDqS7MnGl84QNQIiOQgEwlVbW9gpCuCBejYKw6dBXzwSQLE6L7zyQsNNXgUfDI+Bt08Bx1l5f27FlFCEKQNpKb60oJqWbKITQ0vhNygBG4rva8uAPOGVxygiWZdHV3iTHggLAF5ZWadxPALve25oSwDTTQxTwn6tuV3a+vfkFDIszwNvsYEwm1Va3r5WOIUgAdDmWllaNJCsRwMmjB58KYLTzvzL3Yfe+ZqQ73QniZLDH15oO4F8SJyzn0pWVmiIhAxyjtDUehuIZ+5D+XB627/4IVp42mzh6utrcAEYUAPeSkgq/ngdamw4Zqj9NPCcnBxvqtoC1chobvedPzQAwRABmeqksKfE+1Af4ThcgFXEKtqraNw0A2mcCeKQAzFi8Ym2/FkBA2w9aAHM0CFdfpSbg/sz8FM6ZL4J2TuI0KjcQgFWziasXTnsA+FWARcX6AKeOawE897sAMYTQP+/IhinP9cTpXsV6fYBrFzUA5boe+OD9txPoqTh5Xf1AOAiEQ7h9bw96RrfB4pgHj8cDi4Wq7JPx4Sf7dT1w7eKZRA8ULC/TAogC2o8fTjDo6WtXxRER0BnOhS1jdoLb4xd419eBZbVHcP1SRwJAxsKiNZogDBNA8xHVniRJKCwsRN8Xm3FiLFferdvtRnZ2tnrmyYftrXkDaToANy6fVYOQ6oB74bLV2jQUBezd+a5qc8eOHaivrweBOBwOuFwu8Dwvl1ejsffjz3Q9cOPKOTUN5UK0eMXaoUgkkmBHFAWcafle/o9E/X4/AoEAsrKywHHchMKKofJ1mzQA5LmrF06rhYgyYVrRqqqRYFAuzeqQAU40qvNoNAqGYVISVgFe26gB4HleutzZ6lRKMT3Lsyw7d0F+0S/JAB0njxq6N5UbZdWvawBu3bw8XxTFu8rLiOykAfDkF5bej0lPuumwKCIUHEtFx/AZjrcjbbwo0UMmhsHNbl8OAMo69XVMcTD9pVcWb2Ot/B7FmhSTEIlSXKTU4utAMLCYLWBMT05WDI7t/fmn618CGI5vSOSWDMCswhJvXyAY/F+7Nlps43l0n2/PBfAguSWjNfRSosCYtbSk/FYgGKL5lA0bz0V6zp95eVyceo+EplQRoliYDoCKhGNJcdm1YIh6x8kPnuPQe7FjEYBR6k/HXa/blpMKHQUVcwcVJwDUtVjtTqcjb0H+12azZR7VCkpHClaqDfIiSk2GgdlslqtjNBr5/faPN7eOjY2QqECNx7gwzROCyujbkNxP71NqZeyUpuNz8hAFLF3Ja4mGvuXooh3SBwYFE6UR9Zs0l90ePyb8OB0XIRjyinLRXIGIt6WIkwjtUrloTnC6qTQRgB5s/IeMXmAoIoaCyYv+A4X2LVvo6KxyAAAAAElFTkSuQmCC" />
<h1>ScreenshotKit</h1>
<form id="formtron">
  <input type="url" name="url" required placeholder="Enter a URL">
  <br/>
  <button name="screenshot">Screenshot</button>
  <button name="render">Render</button>
  <button name="pdf">PDF</button>
</form>
<script>
function encode(url){
  return url.replace(/\?.*/i, function(m){
    return encodeURIComponent(m);
  });
}
var action;
formtron.onsubmit = function(e){
  e.preventDefault();
  var url = '/' + action + '?url=' + encode(formtron.url.value);
  if (action == 'screenshot'){
    location.href = url + '&width=' + window.innerWidth + '&height=' + window.innerHeight;
  } else {
    location.href = url;
  }
}
formtron.screenshot.onclick = function(){
  action = 'screenshot';
}
formtron.render.onclick = function(){
  action = 'render';
}
formtron.pdf.onclick = function(){
  action = 'pdf';
}
var protocol = 'http://';
formtron.url.onpaste = function(e){
  const text = e.clipboardData.getData('text');
  if (/https?:\/\//.test(text)) {
    e.preventDefault();
    formtron.url.value = text;
  }
}
formtron.url.onfocus = function(){
  if (formtron.url.value.trim() == '') {
    formtron.url.value = protocol;
  }
}
formtron.url.onblur = function(){
  if (formtron.url.value.trim() == protocol) {
    formtron.url.value = '';
  }
}
</script>
